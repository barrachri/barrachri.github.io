<!DOCTYPE html>
<html><body><lang><meta charset="utf-8">
<meta name="robots" content="index, follow">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><![endif]--><meta name="viewport" content="width=device-width">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Christian Barra">
<title>Classes, instances and attributes in Python | chrisbarra.me</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href="../assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../assets/css/codehilite.css">
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script><script src="../assets/js/main.js"></script><link rel="canonical" href="http://www.chrisbarra.me/posts/classes-instances-and-attributes-in-python.html">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<meta property="og:title" content="Classes, instances and attributes in Python">
<meta property="og:description" content="Some days ago I got a simple question. class A(): x = 1 a = A() b = A() b.x = 11 a.x # ? My answer was wrong but it was the good occasion to pick some books and the reference docs back and spend some hours with the concepts behind: classes, instances, ">
<meta property="og:site_name" content="chrisbarra.me">
<meta property="og:url" content="http://chrisbarra.me/posts/classes-instances-and-attributes-in-python.html">
<meta property="og:type" content="article">
<meta property="og:image" content="http://www.chrisbarra.me/images/baby_python.png.jpg">
<style type="text/css"> 
   .header::after {
  content : "";
  display: block;
  position: absolute;
  top: 0;
  left: 0; 
  width: 100%;
  height: 100%;
  z-index: -1;
  background: url(../images/baby_python.png) no-repeat center center fixed;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
}
@media (max-width: 768px) {

  .header::after {
  content : "";
  display: block;
  position: absolute;
  top: 0;
  left: 0; 
  width: 100%;
  height: 100%;
  z-index: -1;
  background: url(../images/baby_python.png) no-repeat center center scroll;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
  }

 


}
  </style>
<!-- Side Menu --><a id="menu-toggle" href="http://www.chrisbarra.me/" title="chrisbarra.me" rel="home" class="btn btn-primary btn-lg toggle"><i class="fa fa-home"></i></a>
    <!-- /Side Menu -->

    <!-- Full Page Image Header Area -->
<div id="top" class="header">
        <div class="vert-text">
        <div class="container">
            <div class="row">


<div class="col-md-8 col-md-offset-2">
<p class="lead"> 09 July 2016  // 8796 words // <a href="http://www.chrisbarra.me/posts/classes-instances-and-attributes-in-python.html#disqus_thread"></a></p>
<h1 class="title">Classes, instances and attributes in Python</h1>
<p class="lead">Back to basics !</p>

</div>

             </div>

             <div class="row">

                <div class="col-md-6 col-md-offset-3 text-center down">
             <a href="#about"><i class="fa fa-chevron-down fa-3x"></i></a>
                </div>
                </div>

        </div>

        </div>
    </div>

       <!-- /Full Page Image Header Area -->

    <!-- Intro -->
    <div id="about" class="intro">
        <div class="container">
        <div class="row">
                <div class="col-md-8 col-md-offset-2">

                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                <h3>Hi there ! my name is <strong>Christian</strong> and I'm a curious, adventurer, wanna be statistician@<a href="http://www.unipd.it/en/university/history">UniPD</a> and organizer @<a href="http://www.europython.eu">europython</a>.</h3>
                <h3>You can use twitter or write at barrachri at gmail dot com if you want to get in touch with me.</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- /Intro -->

    <!-- About -->
    <div id="services" class="services">
        <div class="container">
            <div class="row">
                <div class="col-md-1 col-md-offset-4  text-center">
                    <div class="service-item">
                    <a href="http://twitter.com/christianbarra"><i class="sp-twitter service-icon fa fa-twitter"></i> </a>
                    </div>
                </div>
                <div class="col-md-1 text-center">
                    <div class="service-item">
                     <a href="https://it.linkedin.com/in/christianbarra"><i class="sp-linkedin service-icon fa fa-linkedin"></i> </a>
                    </div>
                </div>
                <div class="col-md-1 text-center">
                    <div class="service-item">
                     <a href="https://github.com/barrachri"><i class="sp-github service-icon fa fa-github"></i> </a>
                    </div>
                </div>
                <div class="col-md-1 text-center">
                    <div class="service-item">
                    <a href="../rss.xml"><i class="sp-rss service-icon fa fa-rss"></i> </a>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- /About -->

    <!-- Mailinglist -->
      <div class="call-to-action">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 text-center">
                    <br><br><br><br>
</div>
            </div>
        </div>
    </div>
    <!-- /Mailinglist -->

    <!-- Blog -->
    <div id="portfolio" class="portfolio">
        <div class="container">


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/it_IT/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><div class="row">
                
                <div class="col-md-8 col-md-offset-2">
                
<article class="postbox post-text"><div class="post_body">
<div>
<p>Some days ago I got a simple question.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="c1"># ?</span>
</pre>


<p>My answer was wrong but it was the good occasion to pick some books and the <strong><a href="https://docs.python.org/3.5/reference/" title="Python 3.5.2 Reference">reference docs</a></strong> back and spend some hours with the concepts behind: <strong>classes</strong>, <strong>instances</strong>, <strong>attributes</strong> and <strong>namespaces</strong>.</p>
<p><em>All the things you are going to read are related to Python 3.x.</em></p>
<h2>Briefly introduction to Scope</h2>
<p>In Python you have 2 very important concepts: <strong>scope</strong> and <strong>namespace</strong>.</p>
<p>They are both related but generally <strong>scope</strong> is related to unqualified names (X for example) and <strong>namespace</strong> is related to qualified attribute names (object.X).</p>
<p>Due to the fact that in <strong>Python everything is an object</strong> the difference is slight, but in general we can assume that.</p>
<p>Time for some code</p>
<pre class="code literal-block"><span></span><span class="n">X</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># global X</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">f1</span><span class="p">():</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># local X</span>
    <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">f</span><span class="p">()</span> <span class="c1"># 20</span>
<span class="n">f1</span><span class="p">()</span> <span class="c1"># 1</span>
</pre>


<p>Python (generally) follows the <strong>LEGB</strong> rule, where LEGB means <strong>Local</strong> -&gt; <strong>Enclosed</strong> -&gt; <strong>Global</strong> -&gt; <strong>Built-in</strong>.</p>
<p><strong>LEGB</strong> rule means that when you call <strong>X</strong> Python will look in order inside the:</p>
<ol>
<li>Local scope</li>
<li>Enclosed scope</li>
<li>Global</li>
<li>Built-in.</li>
</ol>
<p>And if Python doesn't find anything it throws an error:</p>
<pre class="code literal-block"><span></span><span class="c1">#X = 20</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">f</span><span class="p">()</span> <span class="c1"># 20</span>

<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">6</span><span class="n">b47feb56ddf</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">3</span>     <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
      <span class="mi">4</span>
<span class="o">----&gt;</span> <span class="mi">5</span> <span class="n">f</span><span class="p">()</span> <span class="c1"># 20</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">6</span><span class="n">b47feb56ddf</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">()</span>
      <span class="mi">1</span> <span class="c1">#X = 20</span>
      <span class="mi">2</span> <span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="o">----&gt;</span> <span class="mi">3</span>     <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
      <span class="mi">4</span>
      <span class="mi">5</span> <span class="n">f</span><span class="p">()</span> <span class="c1"># 20</span>

<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">'X'</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre>


<p>If you want to know more about <strong>LEGB</strong> you can start from <strong><a href="http://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules" title="Python LEGB Rule">here</a></strong>.</p>
<p>Let's go back to our classes.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">():</span> <span class="c1"># class is a reserved keyword used to create class</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
</pre>


<p>We just defined a simple class, named <strong>C</strong>, <strong>X</strong> is defined inside <strong>class C</strong>, <strong>c</strong> is what we call an <strong>object of C</strong> or an <strong>instance of C</strong>.</p>
<p><strong>"f"</strong> is a <em>function</em> that accepts 1 parameter, <strong>self</strong>.</p>
<pre class="code literal-block"><span></span><span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">function</span> <span class="n">C</span><span class="o">.</span><span class="n">f</span> <span class="n">at</span> <span class="mh">0x1039aaae8</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bound</span> <span class="n">method</span> <span class="n">C</span><span class="o">.</span><span class="n">f</span> <span class="n">of</span> <span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">C</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x103ea8e10</span><span class="o">&gt;&gt;</span>
</pre>


<p>Now the first strange part, we called <strong>f</strong>, a function defined inside <strong>C</strong>, and we get <strong><em>2 different things</em></strong>.</p>
<p>A <strong><em>function</em></strong> with <strong>C.f</strong> and a <strong><em>method</em></strong> with <strong>c.f</strong>.</p>
<p>The keyword here is <strong>bound</strong> or at least it's where the main difference lives.</p>
<p>But let's call our function (or method in this case):</p>
<pre class="code literal-block"><span></span><span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="mi">5</span><span class="n">abfb4dafb0b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">4</span>         <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
      <span class="mi">5</span> <span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">6</span> <span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="mi">5</span><span class="n">abfb4dafb0b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
      <span class="mi">2</span>     <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
      <span class="mi">3</span>     <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="o">----&gt;</span> <span class="mi">4</span>         <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
      <span class="mi">5</span> <span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
      <span class="mi">6</span> <span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>

<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">'X'</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre>


<p>mmmm.... Python should find <strong>X</strong> following the <strong>LEGB</strong>, does the <strong>LEGB</strong> rule still apply or not ?</p>
<p>Let's try with this:</p>
<pre class="code literal-block"><span></span><span class="n">X</span> <span class="o">=</span> <span class="mi">50</span>
<span class="k">class</span> <span class="nc">C</span><span class="p">():</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="k">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">f1</span><span class="p">():</span>
            <span class="k">print</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
        <span class="n">f1</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>

<span class="c1"># Output: 50</span>
<span class="c1"># Output: 10</span>
</pre>


<p>We have a nested function (f1) and we added X = 50 in the global scope and now the code works.</p>
<p><strong>But what about X inside class C ?</strong></p>
<p>Well <strong>X</strong> (inside class C) is not exactly a <em>variable</em>, it's an <strong>attribute</strong> and behaves in a different way from a <em>variable</em> when we talk about <strong>LEGB</strong>.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">():</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span> <span class="c1"># 10</span>
</pre>


<p>We just changed X with <strong>self.X</strong> inside the print function a now it works.</p>
<p>Why ?</p>
<p>Well.... time to explain the concept of <strong>self</strong> and <strong>namespaces</strong>.</p>
<h2>Self</h2>
<p>As I said, <strong>self</strong> is just a parameter.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">():</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">legion</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">legion</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span> <span class="c1"># 10</span>
</pre>


<p>This code works in the same way, we use <strong>self</strong> as a convention, it's just a reference to the <strong>instance</strong>, in this case to the instance <strong>c</strong>, that is passed to the function when we call it.</p>
<p>When we type <strong>c.f()</strong>  Python is calling <strong>C.f(c)</strong>, where <strong>C</strong> is the class of our instance, <strong>f</strong> is our function/method and <strong>c</strong> is the first parameter required by <strong>f</strong> (self or legion).</p>
<p>And do you remember this ?</p>
<pre class="code literal-block"><span></span><span class="n">c</span><span class="o">.</span><span class="n">f</span> <span class="c1"># &lt;bound method C.f of &lt;__main__.C object at 0x1039cf6d8&gt;&gt;</span>
</pre>


<p>Now the meaning of <strong>bound</strong> is more clear, it means that when we call <strong>f</strong> with <strong>c.f</strong> we are automatically passing a reference to our instance.</p>
<p>So from this moment when we talk about a function that accept a self parameter we will call it <strong>instance method</strong>.</p>
<p>And yes you can also have <strong>unbound method</strong>, that are not related to your instances like <strong>class method</strong> or <strong>static method</strong>, but we leave this for the future.</p>
<h2>Namespaces</h2>
<p>A namespace is a collection of...names.</p>
<p>A collection of <strong>references</strong> to <strong>objects</strong> like <strong>name=object</strong>.</p>
<p>Why <strong>namespaces</strong> are so important ?</p>
<p>Because every class has a namespace and...... every instance of a class has a namespace too.</p>
<p>They are completely <strong>separated</strong> but related <em>somehow</em>.</p>
<p>Let's look inside our class and instance namespaces, we have a built-in attribute for this: <strong>__dict</strong>__</p>
<pre class="code literal-block"><span></span><span class="c1"># I cleaned the output of C.__dict__ of all the built-in methods/attributes</span>
<span class="n">C</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># mappingproxy({'f': &lt;function C.f at 0x1039c1378&gt;, 'X': 10})</span>
<span class="n">c</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># {}</span>
</pre>


<p>As you can see class namespace and instance namespace are completely different.</p>
<p>Class namespace is a <strong>mappingproxy</strong>, instance namespace is a <strong>dict</strong>.</p>
<p>A mappingproxy is a kind of <strong>read-only</strong> dict.</p>
<p>You can find why mappingproxy is used <strong><a href="http://stackoverflow.com/questions/32720492/why-is-a-class-dict-a-mappingproxy" title="why-is-a-class-dict-a-mappingproxy">here</a></strong>.</p>
<p>When I said that mappingproxy is read-only I mean that you cannot assign items using the mappingproxy as a dict for example:</p>
<pre class="code literal-block"><span></span><span class="n">C</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="s1">'X'</span><span class="p">]</span> <span class="c1"># 10</span>
<span class="n">C</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="s1">'X'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">#</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">193</span><span class="o">-</span><span class="n">ec143c56e8cd</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">1</span> <span class="n">C</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="s1">'X'</span><span class="p">]</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">C</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="s1">'X'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">'mappingproxy'</span> <span class="nb">object</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">item</span> <span class="n">assignment</span>
</pre>


<p>If you want to put new elements inside your class namespace you have to use other ways.</p>
<p>Back to <strong>C namespace</strong> we can find <strong>f</strong>, our instance method, and <strong>X</strong>.</p>
<p><strong>X</strong> as we said is not properly a <em>variable</em> and is defined in <strong>C.__dict__</strong>.</p>
<p>How can we call it ? <strong>Class attribute</strong></p>
<p>And with class attribute we mean that <strong>X</strong> (attribute) belongs to <strong>C</strong> (class), because as we see <strong>X</strong> is inside <strong>C namespace</strong> (C.__dict__).</p>
<p>Can we access directly a class attribute ?</p>
<p>Yes, with <strong>NameOfTheClass.AttributeName</strong></p>
<pre class="code literal-block"><span></span><span class="n">C</span><span class="o">.</span><span class="n">X</span> <span class="c1"># 10</span>
</pre>


<p>Just to recap:</p>
<ol>
<li>C namespace contains <strong>f</strong> (a method) and <strong>X</strong> (a class attribute)</li>
<li>c namespace is empty</li>
<li>We accessed X of C with <strong>self.X</strong>
</li>
</ol>
<p>But before I said that <strong>class namespaces</strong> and <strong>instance namespaces</strong> are completely separated.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">():</span>
    <span class="n">X</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">f</span><span class="p">()</span> <span class="c1"># 10</span>
</pre>


<p>When we type <strong>self.X</strong> we tell Python to "<em>look inside the namespace of instance <strong>self</strong> for <strong>X</strong></em>".</p>
<p><strong>How can we access something that belongs to C (attribute X) from self.X (our instance) ?</strong></p>
<p>Time for the next part.</p>
<h2>MRO</h2>
<p>MRO means <em><strong>Method Resolution Order</strong></em> and is how and why from <strong>self.X</strong> we get <strong>C.__dict__['X']</strong>.</p>
<p>As I said namespace of a class and its instances are separated but somehow related.</p>
<p><strong>MRO</strong> is behind the "<em>somehow related</em>".</p>
<p>When Python look for an attribute, like <strong>self.X</strong>, it will search in order:</p>
<ol>
<li>Instance namespace</li>
<li>Class namespace</li>
<li>Parents of your class namespace</li>
<li>Object</li>
</ol>
<p>Object is...the mother of all classes but we are not going to talk about <em>her</em> here.</p>
<p>Let's look at another example</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Mother</span><span class="p">():</span>
    <span class="n">M</span> <span class="o">=</span> <span class="mi">22</span>
<span class="k">class</span> <span class="nc">Father</span><span class="p">():</span>
    <span class="n">F</span> <span class="o">=</span> <span class="mi">34</span>
<span class="k">class</span> <span class="nc">Son</span><span class="p">(</span><span class="n">Mother</span><span class="p">,</span> <span class="n">Father</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Son</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="s2">"M"</span><span class="p">)</span> <span class="c1"># Output: 22</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="s2">"F"</span><span class="p">)</span> <span class="c1"># Output: 34</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="s2">"S"</span><span class="p">)</span> <span class="c1"># Output: 10</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">M</span><span class="p">)</span> <span class="c1"># Output: 22</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">F</span><span class="p">)</span> <span class="c1"># Output: 34</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">S</span><span class="p">)</span> <span class="c1"># Output: 10</span>
</pre>


<p>With <a href="https://docs.python.org/3/library/functions.html#getattr" title="getattr">getattr</a> we are using our instance (self) and another parameter ("M", "F" or "S") to get our class attributes.</p>
<p>I used <a href="https://docs.python.org/3/library/functions.html#getattr" title="getattr">getattr</a> because I can specify dynamically the name of the attribute but is exactly like self.M (or a.M in our case).</p>
<p>As I said our instance is related to its class (Son) and to the superclasses of Son (Mother and Father).</p>
<p>The process of giving an order between your instance and its class and between your class and all its superclasses is called <strong>linearization</strong>.</p>
<p>The algorithm behind Python MRO is called <strong><a href="https://www.python.org/download/releases/2.3/mro/" title="Python MRO">C3</a></strong>
and the main thing to remember is this:</p>
<ul>
<li>children precede their parents (aka superclasses) and the order of appearance in __bases__ is respected.</li>
</ul>
<p>Bases are what we put inside the parenthesis after the name of a class: class Name(bases).</p>
<ul>
<li>Instance <strong>a</strong> is a child of class <strong>A</strong>
</li>
<li>Class <strong>A</strong> is a child of class <strong>Mother</strong> and <strong>Father</strong>
</li>
<li>Class <strong>Mother</strong> and <strong>Father</strong> are both children of object</li>
</ul>
<p>With <strong>__bases__</strong> we get a tuple with the parents of a class, with <strong>__class__</strong> we get the class of an instance:</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">__class__</span> <span class="c1"># __main__.A,</span>
<span class="n">Son</span><span class="o">.</span><span class="n">__bases__</span> <span class="c1"># (__main__.Mother, __main__.Father)</span>
<span class="n">Mother</span><span class="o">.</span><span class="n">__bases__</span> <span class="c1"># (object,)</span>
<span class="n">Father</span><span class="o">.</span><span class="n">__bases__</span> <span class="c1"># (object,)</span>
</pre>


<p>Nothing new I would say, can we see the search order of MRO ?</p>
<p>Yes, with <strong>__mro</strong>__:</p>
<pre class="code literal-block"><span></span><span class="n">Son</span><span class="o">.</span><span class="n">__mro__</span> <span class="c1"># (__main__.Son, __main__.Mother, __main__.Father, object)</span>
</pre>


<p>When we type the code below:</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">M</span> <span class="c1"># 22</span>
</pre>


<p>Python searches in order:</p>
<ol>
<li>a.__dict__</li>
<li>Son.__dict__</li>
<li>Mother.__dict__</li>
<li>Father.__dict__</li>
<li>object.__dict__</li>
</ol>
<p>With the rule first-come first-served.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Mother</span><span class="p">():</span>
    <span class="n">M</span> <span class="o">=</span> <span class="mi">22</span>
<span class="k">class</span> <span class="nc">Father</span><span class="p">():</span>
    <span class="n">F</span> <span class="o">=</span> <span class="mi">34</span>
<span class="k">class</span> <span class="nc">Son</span><span class="p">(</span><span class="n">Mother</span><span class="p">,</span> <span class="n">Father</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">F</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Son</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">F</span> <span class="c1"># Output: 50</span>
</pre>


<p>This is why we get 50 here instead of 34.</p>
<ol>
<li>First Python looks inside <strong>a</strong> (Son's instance) namespace, but nothing is found named <strong>"F"</strong>
</li>
<li>Then it's time to look inside the namespace of Son, class of our instance, and we found <strong>"F"</strong>
</li>
</ol>
<p>And what about F defined inside Father ?</p>
<p>As I said <em>first-come first-served</em>, and in our <strong>__mro__</strong> Son namespace is before Father namespace.</p>
<p>And what does it happen if you look for a reference that doesn't exist in all the __mro__ namespaces ?</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">DXIUISD</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span>                            <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">242</span><span class="o">-</span><span class="n">bcb50197f1e4</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">a</span><span class="o">.</span><span class="n">DXIUISD</span>

<span class="ne">AttributeError</span><span class="p">:</span> <span class="s1">'A'</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">'DXIUISD'</span>
</pre>


<p>You get an <strong>AttributeError</strong>.</p>
<p><strong>But where is the tricky part ?</strong></p>
<p>MRO and all the things explained above work only when you try to <strong>retrieve</strong> an attribute/method and with <strong>retrieve</strong> I mean object.attribute or object.method in general.</p>
<p>When you try to <strong>assign</strong> an attribute/method (like object.attribute = 10) you do that in the <strong>namespace of the object (instance/class)</strong>.</p>
<p>You can change the behaviour with advanced and magic things (metaclass, inheritance, descriptor, property...) but this is how it <strong>normally</strong> works.</p>
<p>So when we type this:</p>
<pre class="code literal-block"><span></span><span class="n">Son</span><span class="o">.</span><span class="n">F</span>
</pre>


<p>Python looks for the attribute inside the namespaces following the __mro__ order.</p>
<pre class="code literal-block"><span></span><span class="n">Son</span><span class="o">.</span><span class="n">F</span> <span class="o">=</span> <span class="mi">50</span>
</pre>


<p>But with this the __mro__ doesn't matter, <strong>Python will create a new attribute or change its value if exists</strong>.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Mother</span><span class="p">():</span>
    <span class="n">F</span> <span class="o">=</span> <span class="mi">34</span>
<span class="k">class</span> <span class="nc">Son</span><span class="p">(</span><span class="n">Mother</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">F</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">Mother</span><span class="o">.</span><span class="n">F</span> <span class="c1"># 34</span>
<span class="n">Son</span><span class="o">.</span><span class="n">F</span> <span class="c1"># 50 # operation 1</span>
<span class="k">del</span><span class="p">(</span><span class="n">Son</span><span class="o">.</span><span class="n">F</span><span class="p">)</span> <span class="c1"># remove F from Son.__dict__ # operation 2</span>
<span class="n">Son</span><span class="o">.</span><span class="n">F</span> <span class="c1"># 34 # operation 3</span>
<span class="n">Son</span><span class="o">.</span><span class="n">F</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1"># operation 4</span>
<span class="n">Son</span><span class="o">.</span><span class="n">F</span> <span class="c1"># 30</span>
</pre>


<p>Clear how it works ?</p>
<ol>
<li>With Son.F we get 50 because is defined inside Son namespace</li>
<li>We delete F attribute from Son namespace</li>
<li>There is no attribute inside Son namespace called "F" and the next phase for Python is to look inside Mother namespace, where it finds F = 34</li>
<li>The assignment, Son.F = 30, is done inside the Son namespace, now we have a new occurrence for F inside Son namespace, this is why Son.F is 30</li>
</ol>
<p>Here are the namespaces</p>
<pre class="code literal-block"><span></span><span class="p">{</span><span class="s1">'S'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">:</span> <span class="mi">50</span><span class="p">}</span> <span class="c1"># After 1</span>
<span class="p">{</span><span class="s1">'S'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,}</span> <span class="c1"># After 2</span>
<span class="p">{</span><span class="s1">'S'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">:</span> <span class="mi">30</span><span class="p">}</span> <span class="c1"># After 4</span>
</pre>


<h2>
<strong>__init__</strong> method</h2>
<p>Init method is a special method to customize our instance, and it's called when we create an instance.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">C</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre>


<p>Translated it means "<em>when you call A(something) create a new instance of A and assign something to self.x</em>".</p>
<p>Let's look inside the namespace.</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># (mappingproxy({'__init__': &lt;function A.__init__ at 0x103ecab70&gt;, 'C': 10})</span>
<span class="n">a</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># {'x': 10}</span>
<span class="n">b</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1">#  {'x': 50}</span>
</pre>


<p><strong>A</strong> has its attributes, C and __init__, <strong>a</strong> and <strong>b</strong> their own x.</p>
<p>The attributes of <strong>a</strong> and <strong>b</strong> are called <strong>instance attributes</strong>, and <strong>they belong to their instance</strong>.</p>
<p>Now it should be clear the output of this:</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># (10, 10, 10)</span>
</pre>


<p>Both <strong>a</strong> and <strong>b</strong> have no references of the attribute C in their namespaces, so Python looks inside <strong>A</strong> namespace to find something (following the MRO).</p>
<p>But what happens if we do this ?</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">C</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">a</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># {'C': 50, 'x': 10}</span>
</pre>


<p>We create a new reference inside <strong>a</strong> namespace.</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># (10, 50, 10)</span>
</pre>


<p>This is why we get this result, because now when we look for C inside <strong>a</strong> we have an occurrence.</p>
<p>Let's see the <strong>dict</strong> of <strong>A</strong>, <strong>a</strong> and <strong>b</strong> again</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># (mappingproxy({'__init__': &lt;function A.__init__ at 0x103ecab70&gt;, 'C': 10})</span>
<span class="n">a</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># {'C': 50, 'x': 10}</span>
<span class="n">b</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1">#  {'x': 10}</span>
</pre>


<p>But what if we change A.C ?</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">C</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># (20, 50, 20)</span>
</pre>


<p>a.C remains 50 and b.C still looks inside <strong>A</strong> namespace because its namespace doesn't have any value for "C".</p>
<pre class="code literal-block"><span></span><span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="o">=</span> <span class="mi">70</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span>
<span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
</pre>


<p>Now instances <strong>a</strong>, <strong>b</strong> and the class <strong>A</strong> have a reference for "C" in their namespaces.</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># (mappingproxy({'__init__': &lt;function A.__init__ at 0x103ecab70&gt;, 'C': 10})</span>
<span class="n">a</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1"># {'C': 50, 'x': 10}</span>
<span class="n">b</span><span class="o">.</span><span class="n">__dict__</span> <span class="c1">#  {'C': 70, 'x': 50}</span>
</pre>


<h2>Can I access a class attribute from an instance ?</h2>
<p>Yes, but if you have a reference in your namespace with the same name you need to be <strong>explicit</strong>.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">C</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">def</span> <span class="nf">p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">()</span> <span class="c1"># 10 10</span>
<span class="n">b</span><span class="o">.</span><span class="n">p</span><span class="p">()</span> <span class="c1"># 10 50</span>
</pre>


<p>So we just hardcoded <strong>A.C</strong> inside our method.</p>
<p>Is there a better way ?</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">C</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">def</span> <span class="nf">p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c1"># First</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c1"># Second</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">p</span><span class="p">()</span> <span class="c1"># 10 10</span>
<span class="n">b</span><span class="o">.</span><span class="n">p</span><span class="p">()</span> <span class="c1"># 10 50</span>
</pre>


<p>Personally I prefer the second (more clear to me).</p>
<h2>But what if....</h2>
<p>we have this code:</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">C</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">def</span> <span class="nf">p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre>


<p>and then we type this:</p>
<pre class="code literal-block"><span></span><span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ([], [], [])</span>
<span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ([50], [50], [50])</span>
<span class="n">b</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ([50, 10], [50, 10], [50, 10])</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ([10], [10], [10])</span>
</pre>


<p>The class attribute <strong>A.C</strong> this time seems really <em>shared</em>, but also the class attributes that we used before were <em>initially shared</em>.</p>
<p>So why we can append and pop elements without any kind of problem ?</p>
<p><strong>Because we didn't do any kind of assignment</strong>.</p>
<p>And our instances and class are "working" on a mutable object, <strong>accessing the object pointed by the reference (C) and changing it directly</strong>.</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">C</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span> <span class="o">*</span> <span class="mi">2</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ([10], [10, 10], [10])</span>
</pre>


<p>After an assignment <strong>a.C</strong> has a new reference inside its namespace.</p>
<p>But the tricky part is this one....if instead of the last code we type this:</p>
<pre class="code literal-block"><span></span><span class="n">a</span><span class="o">.</span><span class="n">C</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">C</span> <span class="c1"># ?</span>
</pre>


<p>what would be the output ?</p>
<pre class="code literal-block"><span></span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre>


<p>In this case we didn't have any new assignment, so we are still changing the referenced object.</p>
<p>Why ?</p>
<p><strong>Due to how augmented assignments (+=, -=, *=, /=, ...) work</strong>.</p>
<p>With list and mutable objects there isn't an <em>assignment</em> and the operation is done "in-place", we are just updating the <strong>referenced object</strong> directly.</p>
<p>So back to the initial question...</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="c1"># ?</span>
</pre>


<p>The answer is 1 because b.x = 11 creates a new attribute (instance attribute) inside <strong>b</strong> namespace.</p>
<p>The namespace of <strong>a</strong> remains empty, so <strong>a.x</strong> will look inside the namespace of <strong>A</strong> where <strong>x</strong> is still equal to 1.</p>
<p>If you wanto to go further with OOP in Python I think nothing is better than <a href="https://speakerdeck.com/lgiordani/object-oriented-python-from-scratch" title="slides">Leonardo Giordani's training</a>.</p>
</div>
    
    
</div>

<ul class="social_network">
<li>
<div class="fb-share-button" data-type="button_count"></div>
</li>

<li>
<div class="g-plus" data-action="share" data-annotation="bubble"></div>
</li>

<li>
<script src="//platform.linkedin.com/in.js" type="text/javascript">
  lang: en_US
</script><script type="IN/Share" data-counter="right"></script>
</li>
<li>
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</li>
</ul>
<div class="row">
                <div class="col-md-12">
                           <ul class="pager">
<li class="previous">
                <a href="amazing-iceland.html" rel="prev">← Previous post</a>
            </li>
        </ul>
</div>
                
</div>
 

   
     

        <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'chrisbarra'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

          </article>
</div>
                
</div>

       <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'chrisbarra'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script><script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
</div>
    </div>

    <!-- /Blog -->



    <!-- Custom JavaScript for the Side Menu and Smooth Scrolling -->

    <script>
    $(function() {
        $('a[href*=#]:not([href=#])').click(function() {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {

                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });
    </script><!-- Google Analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41799543-1', 'chrisbarra.me');
  ga('send', 'pageview');

</script><!-- /Google Analytics --></lang></body></html>
