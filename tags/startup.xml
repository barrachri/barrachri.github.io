<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>chrisbarra.me (startup)</title><link>http://www.chrisbarra.me/</link><description></description><atom:link rel="self" type="application/rss+xml" href="http://www.chrisbarra.me/tags/startup.xml"></atom:link><language>en</language><lastBuildDate>Mon, 25 Jul 2016 14:59:33 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Why, startup quote api and Docker</title><link>http://www.chrisbarra.me/posts/why-startup-quote-api-and-docker.html</link><dc:creator>Christian Barra</dc:creator><description>&lt;div&gt;&lt;p&gt;My first blog and my first post.&lt;/p&gt;
&lt;p&gt;The reason to start a blog ? The Why ? (I've just finished reading &lt;a href="http://amzn.to/1j6vlHN" title="Start with Why by Simon Sinek"&gt;Start with Why by Simon Sinek&lt;/a&gt;....)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Share my experience and projects&lt;/li&gt;
&lt;li&gt;Learn about your experience and projects&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Although in the last 100 years technology improve our lives quality about a 10x factor, we still study/learn in the same way of 2000 years before.
Write and read are still the best method to share knowledge.&lt;/p&gt;
&lt;p&gt;So, here I am.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;p&gt;In honour of &lt;a href="http://www.oup.it/files/Documenti/ReadOn/RightsoftheReaderbyPennac.pdf" title="The rights of the Reader"&gt;the Daniel Pennac's ten rules&lt;/a&gt; I'll follow 3 simple rules to make more enjoyable reading this blog:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Don't write more than 900 words;&lt;/li&gt;
&lt;li&gt;Be interesting (&lt;a href="https://www.youtube.com/watch?v=BQ4yd2W50No"&gt;don't try to be, remember Yoda ?&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Write for your and my fun&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So I'll don't overwhelming you with hundreds of thousands of sentences about who come first between egg or chicken.
I'll figure out the best I can write about my entreprenurship plan, experience, hobbies, travel (I'm planning to see some countries) and about my strange country (Italy).&lt;/p&gt;
&lt;p&gt;I think is always interesting to know what there is behind something, for example behind this blog.
Well, I love python and after start this blog with django I choose to use &lt;a href="http://getnikola.com/" title="Nikola Static Site Generator"&gt;Nikola&lt;/a&gt;, a simple and powerful static site generator and hosting it with github.&lt;/p&gt;
&lt;p&gt;The dynamic part of the site is based on javascript and ajax calls to a simple django backend.
You can use this url &lt;a href="http://api.chrisbarra.me/api/quote/get" title="api.chrisbarra.me json"&gt;api.chrisbarra.me/api/quote/get&lt;/a&gt; to get a random quote (json format) or &lt;a href="http://api.chrisbarra.me" title="api.chrisbarra.me html"&gt;api.chrisbarra.me&lt;/a&gt; to see a simple html page.&lt;/p&gt;
&lt;p&gt;Back to architect, I use a &lt;a href="https://www.digitalocean.com/?refcode=16e2312f412e" title="Digital Ocean"&gt;Digital Ocean vps&lt;/a&gt;, with Ubuntu and Docker.
Docker is awesome, for the first 2 hours. After that I have a form of hate and love (much love than hate), but I'll talk about this in the next weeks.&lt;/p&gt;
&lt;p&gt;I have 1 simple docker container with python, uWSGI and NGINX.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/barrachri/dockerfiles" title="barrachri Repo"&gt;Here&lt;/a&gt; you can find my repo with my docker and config files.&lt;/p&gt;
&lt;p&gt;Now ssh your digital ocean vps or whatever you want to use
&lt;/p&gt;&lt;pre&gt;ssh root@ipyourhostmachine&lt;/pre&gt;
Change your dir
&lt;pre&gt;
# Clone git repository of your project or change your directory with your ROOT
# project directory, this is very important because this command "ADD ./ /app"
# copy all your files from your current directory to the /app container's dir
cd rootprojectdir
&lt;/pre&gt;
Download my Dockerfile
&lt;pre&gt;
# Always from ROOT directory of your project download my Dockerfile
# remember to change your uwsgi.ini if your wsgi.py is not located in api/wsgi.py dir
# More information in my Dockerfile
sudo curl -o Dockerfile https://raw.githubusercontent.com/barrachri/dockerfiles/master/dockerfile/Dockerfile_app
&lt;/pre&gt;
Build image from Dockerfile and name it appserver_image
&lt;pre&gt;docker build -t appserver_image .&lt;/pre&gt;
Run a container from appserver_image and expose port 80 from the container to port 80 of the host machine and name this container appserver
&lt;pre&gt;docker run -d -p 80:80 --name appserver appserver_image&lt;/pre&gt;
We looking for mount point directories between our container and host machine
&lt;pre&gt;docker inspect --format='{{.Volumes}}' appserver&lt;/pre&gt;
The output will be something like this
&lt;pre&gt;
map[
/app:/var/lib/docker/vfs/dir/strangehashcode
/etc/nginx/sites-enabled:/var/lib/docker/vfs/dir/strangehashcode
/var/log/nginx:/var/lib/docker/vfs/dir/strangehashcode]
&lt;/pre&gt;
If you want to stop and restart your container
&lt;pre&gt;
docker stop appserver
docker start appserver
&lt;/pre&gt;
If something went wrong simple
&lt;pre&gt;
docker logs appserver
&lt;/pre&gt;
After that we need to set this container to start automatically, we can do that with &lt;a href="http://supervisord.org/" title="Supervisord"&gt;supervisor&lt;/a&gt;
&lt;pre&gt;
sudo apt-get install supervisor
sudo nano /etc/supervisor/supervisord.conf
&lt;/pre&gt;
And add this text at end
&lt;pre&gt;
[program:appserver]
command=/usr/bin/docker start -a appserver
&lt;/pre&gt;
Save and then
&lt;pre&gt;sudo reboot&lt;/pre&gt;
&lt;p&gt;Now your python app should be online !&lt;/p&gt;
&lt;p&gt;I hope this was useful for other questions Iâ€™m here !&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tsuduku !&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;</description><category>docker</category><category>startup</category><guid>http://www.chrisbarra.me/posts/why-startup-quote-api-and-docker.html</guid><pubDate>Sat, 19 Apr 2014 00:05:00 GMT</pubDate></item></channel></rss>